













Sahi bhai, chalo ek **code-based Azure example** se `nullable` ko samjhte hain — aur yeh bhi dekhenge ki kaise kaam karta hai Terraform ke context mein.

---

## 🎯 Scenario:
Hum ek **Azure Storage Account** create kar rahe hain, jisme `tags` optional honi chahiye (matlab user chahe to de, chahe to naa de).

---

## ✅ Step-by-Step: Terraform Code Example (with `nullable`)

### 📁 1. `variables.tf`

```hcl
variable "resource_group_name" {
  type = string
}

variable "location" {
  type = string
}

variable "storage_account_name" {
  type = string
}

variable "storage_account_tags" {
  type     = map(string)
  nullable = true    # <-- yahan important hai
  default  = null    # agar user nahi deta to yeh default chalega
}
```

---

### 📁 2. `main.tf`

```hcl
provider "azurerm" {
  features {}
}

resource "azurerm_resource_group" "rg" {
  name     = var.resource_group_name
  location = var.location
}

resource "azurerm_storage_account" "sa" {
  name                     = var.storage_account_name
  resource_group_name      = azurerm_resource_group.rg.name
  location                 = azurerm_resource_group.rg.location
  account_tier             = "Standard"
  account_replication_type = "LRS"

  # Optional tags
  tags = var.storage_account_tags
}
```

---

### 📁 3. `terraform.tfvars`

```hcl
resource_group_name     = "demo-rg"
location                = "East US"
storage_account_name    = "demostorage123"

# storage_account_tags = {
#   environment = "dev"
#   owner       = "team-x"
# }
```

> 👆 Yahan `storage_account_tags` commented hai. Iska matlab, tags pass nahi kiya gaya.  
> Kyunki `nullable = true` tha, Terraform error nahi dega. Bas `tags` section skip ho jayega.

---

### 🔄 Output

Terraform will successfully create the storage account **even without tags**.

Agar `nullable = false` hota to terraform error deta:
```
│ Error: Missing required variable
│ 
│ The argument "storage_account_tags" is required, but no definition was found.
```

---

## 💡 Summary:

| Field | With `nullable = true` | Without `nullable` |
|-------|-------------------------|---------------------|
| `tags` diya | OK | OK |
| `tags` nahi diya | OK | ❌ Error |

---

Chaahe to main Bicep ya ARM template se bhi example de sakta hoon. Bolo, aur koi Azure service pe example chahiye kya?
